


<div class="container">
    
    <div class="row">
        <div class="col-lg-12">
            <div style="margin-top: 50px;" class="shadow">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Sr.no</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>City</th>
                            <th>Pincode</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let obj of regFormArr; let i = index">
                            <td>{{i+1}}</td>
                            <td>{{obj.firstName}}</td>
                            <td>{{obj.lastName}}</td>
                            <td>{{obj.address.city}}</td>
                            <td>{{obj.address.pinCode}}</td>
                            <td><button (click)="deleteRecord(obj)" type="button" class="btn btn-outline-danger">Delete</button> &nbsp; 
                                <button (click)="pathFormValues(obj)" type="button" class="btn btn-outline-info">Update</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>





    <div class="row">
        <div class="col-md-12">
           <div class="form-div shadow-lg">
            <form [formGroup]="regForm">

                <div class="row">

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label">First Name</label>
                            <input type="text" class="form-control" formControlName="firstName">
                            <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)">
                                <label class="form-text">First name required</label>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label">Last Name</label>
                            <input type="text" class="form-control" formControlName="lastName">
                            <div></div>
                        </div>
                    </div>

                </div>
                <br>

               <div formGroupName="address">
                <div class="row">

                    <div class="col-lg-6">
                        <label class="form-label">City</label>
                        <input type="text" class="form-control" formControlName="city">
                        <div *ngIf="city?.invalid && (city?.dirty || city?.touched)">
                            <label class="form-text">Please Enter City name</label>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <label class="form-label">PinCode</label>
                        <input type="text" class="form-control" formControlName="pinCode">
                        <div *ngIf="pinCode?.invalid && (pinCode?.dirty || pinCode?.touched)">
                            <label *ngIf="pinCode?.hasError('required') " class="form-text">Please Enter PinCode</label>
                            <label *ngIf="pinCode?.hasError('pattern') " class="form-text">Please Enter valid PinCode</label>                           
                        </div>
                    </div>
                </div>
               </div>

               <hr>
               <div class="d-grid gap-2" >
                <button *ngIf="btnStatus=='submit'" [disabled]="!regForm.valid" (click)="submitForm()"  class="btn btn-primary" type="button">Submit</button>  
                <button *ngIf="btnStatus=='update'"  [disabled]="!regForm.valid" (click)="UpdateForm()"  class="btn btn-primary" type="button">Update</button>                 
              </div>             
            </form>
         </div>
        </div>
    </div>
</div>